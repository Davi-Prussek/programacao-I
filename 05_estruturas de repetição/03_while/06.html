<meta charset="UTF-8">
<script>
    /*
    PROBLEMA: URNA ELETRÔNICA
    Faça um programa que simule a urna eletrônica.
    A tela a ser apresentada deverá ser da seguinte forma:
    As opções são:
    1. Candidato Joãozinho
    2. Candidato Mariazinha
    3. Nulo
    4. Branco
    Entre com o seu voto:

    O programa deverá ler os votos dos eleitores e, quando for entrado o número 0, apresentar as seguintes
    informações:
    a) O número de votos de cada candidato;
    b) A porcentagem de votos nulos;
    c) A porcentagem de votos brancos;
    d) O candidato vencedor.
    */


    //ENTRADA

    //criação de variáveis usadas durante o código:

    //Essa é usada pra controlar o loop
    let voto;
    //Variáveis/listas usadas pra cálculo ou pra apresentar certas informações ou fazer contas   
    let candidatoJoaozinho = [];
    let candidatoMariazinha = [];
    let nulo = [];
    let branco = [];
    //Início do loop while
    while (voto !== 0) {
        voto = prompt("Em quem deseja votar?\n\nOpções:\nCandidato Joãozinho\nCandidato Mariazinha\nNulo\nBranco").trim().toLowerCase();
        //Verificando se voto é uma das opções
        while (voto !== "joãozinho" && voto !== "joaozinho" && voto !== "candidato joaozinho" && voto !== "candidato joãozinho" && voto !== "mariazinha" && voto !== "nulo" && voto !== "branco" && voto !== String(0)) {
            alert("Escreva uma opção válida!");
            voto = prompt("Em quem deseja votar?\n\nOpções:\nCandidato Joãozinho\nCandidato Mariazinha\nNulo\nBranco").trim().toLowerCase();}
        //PROCESSAMENTO

        //Parte para separar cada voto na sua devida lista
        if (voto === "joãozinho" || voto === "joaozinho") {
            candidatoJoaozinho.push(voto);} 
        else if (voto === "mariazinha") {
            candidatoMariazinha.push(voto);}
        else if (voto === "nulo") {
            nulo.push(voto);}
        else if (voto === "branco") {
            branco.push(voto);}
        //Caso a resposta do usuário for zero, isso aqui encerra o código
        else { break; }
    }
    //juntar todos os votos pra saber quantos eleitores votaram
    let totalVotos = candidatoJoaozinho.concat(candidatoMariazinha, nulo, branco);
    //Conta pra descobrir a porcentagem dos votos nulos em relação ao total de votos
    let porcentagemNulo = ((nulo.length / totalVotos.length) * 100);
    //Conta pra descobrir a porcentagem dos votos nulos em relação ao total de votos
    let porcentagemBranco = ((branco.length / totalVotos.length) * 100);
    //SAÍDA

    //Saída das listas de cada eleitor
    alert("O candidato Joãozinho teve " + candidatoJoaozinho.length + " voto(s)\n\nA candidata Mariazinha teve " + candidatoMariazinha.length + " voto(s)\n\n" + branco.length + " eleitores votaram em branco\n\n" + nulo.length + " eleitores votaram nulo");
    //Saída da porcentagem de votos nulos e brancos
    alert("Os votos nulos representam " + porcentagemNulo + "% dos votos totais");
    alert("Os votos brancos representam " + porcentagemBranco + "% dos votos totais");
    //Saída de quem venceu a eleição
    if (candidatoJoaozinho.length > candidatoMariazinha.length) {
        alert("O candidato Joãozinho venceu!");}
    else if (candidatoMariazinha.length > candidatoJoaozinho.length) {
        alert("A candidata Mariazinha venceu!");}
    //Caso tenha dado empate
    else { alert("OS dois empataram"); }
</script>