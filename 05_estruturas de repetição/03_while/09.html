<meta charset="UTF-8">
<script>
    //Problema: Acertar o n√∫mero
    /*
    O computador escolhe um n√∫mero aleat√≥rio de 1 a 30, e o usu√°rio precisa adivinhar. O programa d√° dicas ("maior" ou "menor") at√© acertar.
    */

    //ENTRADA && PROCESSAMENTO && SA√çDA
    //Vari√°veis pra descobrir o hist√≥rico
    let exibir;
    let historico = [];
    //Vari√°veis pra mostrar a quantidade de tentativas
    let zerar;
    let tentativas = 0;
    let recomecar;
    //Vari√°vel pra descobrir o n√∫mero correto
    let resposta = 0;
    //Vari√°veis pra ver se o usu√°rio quer repetir o jogo ou n√£o
    let repeticao;
    let acerto = 0;
    let resultado = 1;
    //Loop do come√ßo ou fim de jogo
    function come√ßarJogo(nivel) {
    while (acerto >= 0) {
        //Parte pra criar um n√∫mero aleat√≥rio entre 1 e 30
        let indice = Math.floor(Math.random() * nivel);
        indice += 1;
        //Parte da conta pra ver se o c√≥digo vai continuar ou n√£o,
        resultado -= 1;
        //Loop principal
        while (resultado === 0) {
            //Pergunta do n√∫mero que o usu√°rio desejar
            resposta = Number(prompt("ACERTE O N√öMERO ESCONDIDO!\n\nDigite um n√∫mero de 1 a "+nivel+" e tente acertar o valor\n\n(O programa ir√° dizer se voc√™ est√° mais pra baixo ou mais pra cima)"))
            //Loop pra verificar se a resposta do usu√°rio cont√©m uma string ou n√£o
            while (isNaN(resposta) || resposta === 0 || resposta > nivel) {
                alert("Digite apenas valores num√©ricos dentro das condi√ß√µes!");
                resposta = Number(prompt("Digite um n√∫mero de 1 a 30 e tente acertar o valor\n\n(O programa ir√° dizer se voc√™ est√° mais pra baixo ou mais pra cima) "))}
            //Parte direcionada pra dar as dicas ao usu√°rio e registrar as tentativas e quantas foram}
            if (resposta !== indice) {
                if (resposta > indice) {
                    alert("O n√∫mero escondido √© menor");
                    historico.push(resposta);
                    tentativas += 1;}
                else if (resposta < indice) {
                    alert("O n√∫mero escondido √© maior");
                    historico.push(resposta);
                    tentativas += 1;}
                    //Respostas caso o usu√°rio for muito ruim
                if (tentativas === 10) {alert("T√° dif√≠cil?")}
                if (tentativas === 15) {alert("Como voc√™ consegue?")}
                if (tentativas === 20) {alert("S√≥ pode ser brincadeira, n√©?")}
                if (tentativas === 25) {alert("Voc√™ √© a PIOR pessoa que eu j√° vi pra jogar esse jogo")}}
            //Caso o usu√°rio acerte, registra a tentativa na quantidade e no registro, a√≠ apresenta o resultado, al√©m de contabilizar a sequ√™ncia 
            else if (resposta === indice) {
                historico.push(resposta);
                tentativas += 1;
                alert("Parab√©ns! voc√™ acertou!\n\n(N√∫mero de tentativas: " + tentativas + ")");
                //Parte que mostra o hist√≥rico da partida se o usu√°rio desejar
                exibir = prompt("Deseja ver seu hist√≥rico de tentativas?\n\n(S-Sim ou N-N√£o)").trim().charAt().toLowerCase();
                while (exibir !== "s" && exibir !== "n") {
                    alert("Responda com sim ou n√£o!");
                    exibir = prompt("Deseja ver seu hist√≥rico de tentativas?\n\n(S-Sim ou N-N√£o)").trim().charAt().toLowerCase();}
                //Entrega das informa√ß√µes do hist√≥rico
                switch (exibir) {
                    case "s":
                        alert(historico.join(" - "));
                        historico = [];
                        break;
                    case "n":
                        historico = [];
                        break;}
                //Conta a quantidade de vezes que o usu√°rio jogou
                acerto++;
                if (acerto > 1) {
                    alert("Sequ√™ncia de acertos: " + acerto)}
                //Zera a quantidade de tentativas pra recome√ßar o loop caso o usu√°rio deseje recome√ßar o jogo
                tentativas = 0;
                //Perguntar se o usu√°rio deseja repetir o jogo, caso queira, vai configurar a vari√°vel do primeiro loop pra come√ßar uma nova partida
                repeticao = prompt("Deseja jogar novamente?\n\n(S-Sim ou N-N√£o)").trim().charAt().toLowerCase();
                while (repeticao !== "s" && repeticao !== "n") {
                    alert("Responda com sim ou n√£o!");
                    repeticao = prompt("Deseja jogar novamente?\n\n(S-Sim ou N-N√£o)").trim().charAt().toLowerCase();}
                switch (repeticao) {
                    case "s":
                        resultado += 1;
                        //O c√≥digo vai perguntar se o usu√°rio deseja jogar uma partida nova ou iniciar uma nova partida
                        recomecar = prompt("Deseja continuar na partida ou iniciar uma nova?\n\nResponda com C-Continuar ou R-Reiniciar\n\n(Iniciar uma nova partida zera a sua sequ√™ncia de acertos)").trim().charAt().toLowerCase();
                        while (recomecar !== "i" && recomecar !== "c" && recomecar !== "n" && recomecar !== "q" && recomecar !== "r"){
                            alert("Responda se quer uma nova partida ou continuar!");
                            recomecar = prompt("Deseja continuar na partida ou iniciar uma nova?\n\n(iniciar ou recome√ßar)\n\n(Iniciar uma nova partida zera a sua sequ√™ncia de acertos)").trim().charAt().toLowerCase();}
                        switch (recomecar) {
                            case "i":
                            case "n":
                            case "q":
                            case "r":
                                document.getElementById("controleDeDificuldade").style.display = "block";
                                return;
                                acerto = 0;
                                break;
                            case "c":
                                break;}
                        break;
                    default:
                        alert("Tudo bem, obrigado por jogar!üòÅ");
                        resultado -= 1;
                        break;}}}}}
</script>